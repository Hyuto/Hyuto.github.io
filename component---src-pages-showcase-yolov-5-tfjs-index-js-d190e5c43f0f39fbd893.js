"use strict";(self.webpackChunkHyuto_github_io=self.webpackChunkHyuto_github_io||[]).push([[653],{1904:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var n=a(7294),o=a(9357),r=a(731),l=a(2653),i=JSON.parse('["person","bicycle","car","motorcycle","airplane","bus","train","truck","boat","traffic light","fire hydrant","stop sign","parking meter","bench","bird","cat","dog","horse","sheep","cow","elephant","bear","zebra","giraffe","backpack","umbrella","handbag","tie","suitcase","frisbee","skis","snowboard","sports ball","kite","baseball bat","baseball glove","skateboard","surfboard","tennis racket","bottle","wine glass","cup","fork","knife","spoon","bowl","banana","apple","sandwich","orange","broccoli","carrot","hot dog","pizza","donut","cake","chair","couch","potted plant","bed","dining table","toilet","tv","laptop","mouse","remote","keyboard","cell phone","microwave","oven","toaster","sink","refrigerator","book","clock","vase","scissors","teddy bear","hair drier","toothbrush"]'),c=JSON.parse('{"TN":"Object Detection using YOLOv5","WL":"Object Detection Application using YOLOv5 and Tensorflow.js"}'),s=function(){var e=(0,n.useState)(null),t=e[0],a=e[1],s=(0,n.useState)("close"),u=s[0],d=s[1],p=(0,n.useState)("loading"),b=p[0],f=p[1],m=(0,n.useState)(null),v=m[0],h=m[1],y=(0,n.useRef)(null),g=(0,n.useRef)(null),k=function e(){o.SRH().startScope();var a=t.inputs[0].shape.slice(1,3),n=a[0],r=a[1],l=o.lub((function(){return o.BHj.resizeBilinear(o.Xhn.fromPixels(y.current),[n,r]).div(255).expandDims(0)}));t.executeAsync(l).then((function(e){var t=e[0],a=e[1],n=e[2],r=e[3];!function(e,t,a,n){var o=g.current.getContext("2d");o.clearRect(0,0,o.canvas.width,o.canvas.height);var r="11px sans-serif";o.font=r,o.textBaseline="top";for(var l=0;l<n;++l){var c=e.slice(4*l,4*(l+1)),s=c[0],u=c[1],d=c[2],p=c[3];s*=g.current.width,d*=g.current.width,u*=g.current.height;var b=d-s,f=(p*=g.current.height)-u,m=i[a[l]],v=t[l].toFixed(2);o.strokeStyle="#00FFFF",o.lineWidth=2,o.strokeRect(s,u,b,f),o.fillStyle="#00FFFF";var h=o.measureText(m+":"+v).width,y=parseInt(r,10);o.fillRect(s,u,h+4,y+4),o.fillStyle="#000000",o.fillText(m+":"+v,s,u)}}(t.dataSync(),a.dataSync(),n.dataSync(),r.dataSync()[0]),o.B90(e)}));var c=requestAnimationFrame((function(){e()}));h(c),o.SRH().endScope()};return(0,n.useEffect)((function(){o.YLj(window.location.origin+"/model/yolov5n_web_model/model.json").then((function(e){a(e),f("ready"),o.CQI("webgl")}))}),[]),n.createElement(r.Z,{title:c.TN,description:c.WL},n.createElement("div",{className:"yolov5-tfjs-module--YOLOWrapper--18avy"},n.createElement("div",{className:"yolov5-tfjs-module--title--3YIMQ"},n.createElement("h2",null,c.TN),n.createElement("p",null,c.WL)),n.createElement("div",{className:"yolov5-tfjs-module--content--3yvli"},n.createElement(l.Z,{style:{display:"ready"===b?"none":null}},"Loading model..."),n.createElement("div",{className:"yolov5-tfjs-module--main--3DtK8"},n.createElement("video",{style:{display:"open"===u?"block":"none"},autoPlay:!0,playsInline:!0,muted:!0,ref:y}),n.createElement("canvas",{style:{display:"open"===u?"block":"none",position:"absolute",top:"0",left:"0"},ref:g})),n.createElement("div",{className:"yolov5-tfjs-module--btnWrapper--3KLOo"},n.createElement("button",{disabled:"loading"===b,onClick:function(){"close"===u?(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}}).then((function(e){window.localStream=e,y.current.srcObject=e,d("open")})):alert("Can't open Webcam!"),y.current.onloadedmetadata=function(e){k()}):(cancelAnimationFrame(v),h(null),y.current.srcObject?(y.current.srcObject=null,window.localStream.getTracks().forEach((function(e){e.stop()})),d("close")):alert("Please open Webcam first!"))}},"open"===u?"Close":"Open"," Webcam")))))}}}]);
//# sourceMappingURL=component---src-pages-showcase-yolov-5-tfjs-index-js-d190e5c43f0f39fbd893.js.map