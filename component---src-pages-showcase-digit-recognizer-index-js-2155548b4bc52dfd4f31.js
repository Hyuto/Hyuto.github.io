"use strict";(self.webpackChunkHyuto_github_io=self.webpackChunkHyuto_github_io||[]).push([[796],{55311:function(t,e,n){n.r(e),n.d(e,{default:function(){return Jo}});var r=n(50954),o=n(67294),i=n(42885),a=(n(60767),n(85893));function c(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function u(t){return!!t&&!!t[Y]}function s(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(t)||Array.isArray(t)||!!t[X]||!!t.constructor[X]||y(t)||g(t))}function f(t,e,n){void 0===n&&(n=!1),0===l(t)?(n?Object.keys:V)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function l(t){var e=t[Y];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:y(t)?2:g(t)?3:0}function p(t,e){return 2===l(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){return 2===l(t)?t.get(e):t[e]}function h(t,e,n){var r=l(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function v(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function y(t){return H&&t instanceof Map}function g(t){return q&&t instanceof Set}function m(t){return t.o||t.t}function b(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=J(t);delete e[Y];for(var n=V(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function w(t,e){return void 0===e&&(e=!1),S(t)||u(t)||!s(t)||(l(t)>1&&(t.set=t.add=t.clear=t.delete=P),Object.freeze(t),e&&f(t,(function(t,e){return w(e,!0)}),!0)),t}function P(){c(2)}function S(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function j(t){var e=Q[t];return e||c(18,t),e}function O(){return B}function x(t,e){e&&(j("Patches"),t.u=[],t.s=[],t.v=e)}function k(t){E(t),t.p.forEach(A),t.p=null}function E(t){t===B&&(B=t.l)}function T(t){return B={p:[],l:B,h:t,m:!0,_:0}}function A(t){var e=t[Y];0===e.i||1===e.i?e.j():e.O=!0}function C(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||j("ES5").S(e,t,r),r?(n[Y].P&&(k(e),c(4)),s(t)&&(t=M(e,t),e.l||_(e,t)),e.u&&j("Patches").M(n[Y],t,e.u,e.s)):t=M(e,n,[]),k(e),e.u&&e.v(e.u,e.s),t!==$?t:void 0}function M(t,e,n){if(S(e))return e;var r=e[Y];if(!r)return f(e,(function(o,i){return D(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return _(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=b(r.k):r.o;f(3===r.i?new Set(o):o,(function(e,i){return D(t,r,o,e,i,n)})),_(t,o,!1),n&&t.u&&j("Patches").R(r,n,t.u,t.s)}return r.o}function D(t,e,n,r,o,i){if(u(o)){var a=M(t,o,i&&e&&3!==e.i&&!p(e.D,r)?i.concat(r):void 0);if(h(n,r,a),!u(a))return;t.m=!1}if(s(o)&&!S(o)){if(!t.h.F&&t._<1)return;M(t,o),e&&e.A.l||_(t,o)}}function _(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&w(e,n)}function R(t,e){var n=t[Y];return(n?m(n):t)[e]}function I(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function U(t){t.P||(t.P=!0,t.l&&U(t.l))}function N(t){t.o||(t.o=b(t.t))}function F(t,e,n){var r=y(e)?j("MapSet").N(e,n):g(e)?j("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:O(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},o=r,i=tt;n&&(o=[r],i=et);var a=Proxy.revocable(o,i),c=a.revoke,u=a.proxy;return r.k=u,r.j=c,u}(e,n):j("ES5").J(e,n);return(n?n.A:O()).p.push(r),r}function z(t){return u(t)||c(22,t),function t(e){if(!s(e))return e;var n,r=e[Y],o=l(e);if(r){if(!r.P&&(r.i<4||!j("ES5").K(r)))return r.t;r.I=!0,n=W(e,o),r.I=!1}else n=W(e,o);return f(n,(function(e,o){r&&d(r.t,e)===o||h(n,e,t(o))})),3===o?new Set(n):n}(t)}function W(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return b(t)}var L,B,K="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),H="undefined"!=typeof Map,q="undefined"!=typeof Set,G="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$=K?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),X=K?Symbol.for("immer-draftable"):"__$immer_draftable",Y=K?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),V="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,J=Object.getOwnPropertyDescriptors||function(t){var e={};return V(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},Q={},tt={get:function(t,e){if(e===Y)return t;var n=m(t);if(!p(n,e))return function(t,e,n){var r,o=I(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!s(r)?r:r===R(t.t,e)?(N(t),t.o[e]=F(t.A.h,r,t)):r},has:function(t,e){return e in m(t)},ownKeys:function(t){return Reflect.ownKeys(m(t))},set:function(t,e,n){var r=I(m(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=R(m(t),e),i=null==o?void 0:o[Y];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(v(n,o)&&(void 0!==n||p(t.t,e)))return!0;N(t),U(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==R(t.t,e)||e in t.t?(t.D[e]=!1,N(t),U(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=m(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){c(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){c(12)}},et={};f(tt,(function(t,e){et[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),et.deleteProperty=function(t,e){return tt.deleteProperty.call(this,t[0],e)},et.set=function(t,e,n){return tt.set.call(this,t[0],e,n,t[0])};var nt=new(function(){function t(t){var e=this;this.g=G,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,a=Array(r>1?r-1:0),c=1;c<r;c++)a[c-1]=arguments[c];return i.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&c(6),void 0!==r&&"function"!=typeof r&&c(7),s(t)){var u=T(e),f=F(e,t,void 0),l=!0;try{a=n(f),l=!1}finally{l?k(u):E(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return x(u,r),C(t,u)}),(function(t){throw k(u),t})):(x(u,r),C(a,u))}if(!t||"object"!=typeof t){if((a=n(t))===$)return;return void 0===a&&(a=t),e.F&&w(a,!0),a}c(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))}:[e.produce(t,n,(function(t,e){r=t,o=e})),r,o];var r,o},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){s(t)||c(8),u(t)&&(t=z(t));var e=T(this),n=F(this,t,void 0);return n[Y].C=!0,E(e),n},e.finishDraft=function(t,e){var n=(t&&t[Y]).A;return x(n,e),C(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!G&&c(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var o=j("Patches").$;return u(t)?o(t,e):this.produce(t,(function(t){return o(t,e.slice(n+1))}))},t}()),rt=nt.produce,ot=(nt.produceWithPatches.bind(nt),nt.setAutoFreeze.bind(nt),nt.setUseProxies.bind(nt),nt.applyPatches.bind(nt),nt.createDraft.bind(nt),nt.finishDraft.bind(nt),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{});function it(t,e){return t(e={exports:{}},e.exports),e.exports}var at=function(t){return t&&t.Math==Math&&t},ct=at("object"==typeof globalThis&&globalThis)||at("object"==typeof window&&window)||at("object"==typeof self&&self)||at("object"==typeof ot&&ot)||function(){return this}()||Function("return this")(),ut=function(t){try{return!!t()}catch(e){return!0}},st=!ut((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ft={}.propertyIsEnumerable,lt=Object.getOwnPropertyDescriptor,pt={f:lt&&!ft.call({1:2},1)?function(t){var e=lt(this,t);return!!e&&e.enumerable}:ft},dt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ht={}.toString,vt=function(t){return ht.call(t).slice(8,-1)},yt="".split,gt=ut((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==vt(t)?yt.call(t,""):Object(t)}:Object,mt=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},bt=function(t){return gt(mt(t))},wt=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Pt=function(t,e){if(!wt(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!wt(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!wt(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!wt(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},St=function(t){return Object(mt(t))},jt={}.hasOwnProperty,Ot=Object.hasOwn||function(t,e){return jt.call(St(t),e)},xt=ct.document,kt=wt(xt)&&wt(xt.createElement),Et=function(t){return kt?xt.createElement(t):{}},Tt=!st&&!ut((function(){return 7!=Object.defineProperty(Et("div"),"a",{get:function(){return 7}}).a})),At=Object.getOwnPropertyDescriptor,Ct={f:st?At:function(t,e){if(t=bt(t),e=Pt(e,!0),Tt)try{return At(t,e)}catch(n){}if(Ot(t,e))return dt(!pt.f.call(t,e),t[e])}},Mt=function(t){if(!wt(t))throw TypeError(String(t)+" is not an object");return t},Dt=Object.defineProperty,_t={f:st?Dt:function(t,e,n){if(Mt(t),e=Pt(e,!0),Mt(n),Tt)try{return Dt(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Rt=st?function(t,e,n){return _t.f(t,e,dt(1,n))}:function(t,e,n){return t[e]=n,t},It=function(t,e){try{Rt(ct,t,e)}catch(n){ct[t]=e}return e},Ut="__core-js_shared__",Nt=ct[Ut]||It(Ut,{}),Ft=Function.toString;"function"!=typeof Nt.inspectSource&&(Nt.inspectSource=function(t){return Ft.call(t)});var zt,Wt,Lt,Bt,Kt=Nt.inspectSource,Ht=ct.WeakMap,qt="function"==typeof Ht&&/native code/.test(Kt(Ht)),Gt=it((function(t){(t.exports=function(t,e){return Nt[t]||(Nt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.14.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),$t=0,Xt=Math.random(),Yt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$t+Xt).toString(36)},Zt=Gt("keys"),Vt={},Jt="Object already initialized",Qt=ct.WeakMap;if(qt||Nt.state){var te=Nt.state||(Nt.state=new Qt),ee=te.get,ne=te.has,re=te.set;zt=function(t,e){if(ne.call(te,t))throw new TypeError(Jt);return e.facade=t,re.call(te,t,e),e},Wt=function(t){return ee.call(te,t)||{}},Lt=function(t){return ne.call(te,t)}}else{var oe=Zt[Bt="state"]||(Zt[Bt]=Yt(Bt));Vt[oe]=!0,zt=function(t,e){if(Ot(t,oe))throw new TypeError(Jt);return e.facade=t,Rt(t,oe,e),e},Wt=function(t){return Ot(t,oe)?t[oe]:{}},Lt=function(t){return Ot(t,oe)}}var ie,ae,ce={set:zt,get:Wt,has:Lt,enforce:function(t){return Lt(t)?Wt(t):zt(t,{})},getterFor:function(t){return function(e){var n;if(!wt(e)||(n=Wt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ue=it((function(t){var e=ce.get,n=ce.enforce,r=String(String).split("String");(t.exports=function(t,e,o,i){var a,c=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||Ot(o,"name")||Rt(o,"name",e),(a=n(o)).source||(a.source=r.join("string"==typeof e?e:""))),t!==ct?(c?!s&&t[e]&&(u=!0):delete t[e],u?t[e]=o:Rt(t,e,o)):u?t[e]=o:It(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Kt(this)}))})),se=ct,fe=function(t){return"function"==typeof t?t:void 0},le=function(t,e){return arguments.length<2?fe(se[t])||fe(ct[t]):se[t]&&se[t][e]||ct[t]&&ct[t][e]},pe=Math.ceil,de=Math.floor,he=function(t){return isNaN(t=+t)?0:(t>0?de:pe)(t)},ve=Math.min,ye=function(t){return t>0?ve(he(t),9007199254740991):0},ge=Math.max,me=Math.min,be=function(t){return function(e,n,r){var o,i=bt(e),a=ye(i.length),c=function(t,e){var n=he(t);return n<0?ge(n+e,0):me(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},we={includes:be(!0),indexOf:be(!1)}.indexOf,Pe=function(t,e){var n,r=bt(t),o=0,i=[];for(n in r)!Ot(Vt,n)&&Ot(r,n)&&i.push(n);for(;e.length>o;)Ot(r,n=e[o++])&&(~we(i,n)||i.push(n));return i},Se=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],je=Se.concat("length","prototype"),Oe={f:Object.getOwnPropertyNames||function(t){return Pe(t,je)}},xe={f:Object.getOwnPropertySymbols},ke=le("Reflect","ownKeys")||function(t){var e=Oe.f(Mt(t)),n=xe.f;return n?e.concat(n(t)):e},Ee=function(t,e){for(var n=ke(e),r=_t.f,o=Ct.f,i=0;i<n.length;i++){var a=n[i];Ot(t,a)||r(t,a,o(e,a))}},Te=/#|\.prototype\./,Ae=function(t,e){var n=Me[Ce(t)];return n==_e||n!=De&&("function"==typeof e?ut(e):!!e)},Ce=Ae.normalize=function(t){return String(t).replace(Te,".").toLowerCase()},Me=Ae.data={},De=Ae.NATIVE="N",_e=Ae.POLYFILL="P",Re=Ae,Ie=Ct.f,Ue=function(t,e){var n,r,o,i,a,c=t.target,u=t.global,s=t.stat;if(n=u?ct:s?ct[c]||It(c,{}):(ct[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Ie(n,r))&&a.value:n[r],!Re(u?r:c+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ee(i,o)}(t.sham||o&&o.sham)&&Rt(i,"sham",!0),ue(n,r,i,t)}},Ne=Array.isArray||function(t){return"Array"==vt(t)},Fe=function(t,e,n){var r=Pt(e);r in t?_t.f(t,r,dt(0,n)):t[r]=n},ze=le("navigator","userAgent")||"",We=ct.process,Le=We&&We.versions,Be=Le&&Le.v8;Be?ae=(ie=Be.split("."))[0]<4?1:ie[0]+ie[1]:ze&&(!(ie=ze.match(/Edge\/(\d+)/))||ie[1]>=74)&&(ie=ze.match(/Chrome\/(\d+)/))&&(ae=ie[1]);var Ke=ae&&+ae,He=!!Object.getOwnPropertySymbols&&!ut((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ke&&Ke<41})),qe=He&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ge=Gt("wks"),$e=ct.Symbol,Xe=qe?$e:$e&&$e.withoutSetter||Yt,Ye=function(t){return Ot(Ge,t)&&(He||"string"==typeof Ge[t])||(He&&Ot($e,t)?Ge[t]=$e[t]:Ge[t]=Xe("Symbol."+t)),Ge[t]},Ze=Ye("species"),Ve=function(t,e){var n;return Ne(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Ne(n.prototype)?wt(n)&&null===(n=n[Ze])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Je=Ye("species"),Qe=function(t){return Ke>=51||!ut((function(){var e=[];return(e.constructor={})[Je]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},tn=Ye("isConcatSpreadable"),en=9007199254740991,nn="Maximum allowed index exceeded",rn=Ke>=51||!ut((function(){var t=[];return t[tn]=!1,t.concat()[0]!==t})),on=Qe("concat"),an=function(t){if(!wt(t))return!1;var e=t[tn];return void 0!==e?!!e:Ne(t)};Ue({target:"Array",proto:!0,forced:!rn||!on},{concat:function(t){var e,n,r,o,i,a=St(this),c=Ve(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(an(i=-1===e?a:arguments[e])){if(u+(o=ye(i.length))>en)throw TypeError(nn);for(n=0;n<o;n++,u++)n in i&&Fe(c,u,i[n])}else{if(u>=en)throw TypeError(nn);Fe(c,u++,i)}return c.length=u,c}});var cn=Date.prototype,un="Invalid Date",sn="toString",fn=cn.toString,ln=cn.getTime;new Date(NaN)+""!=un&&ue(cn,sn,(function(){var t=ln.call(this);return t==t?fn.call(this):un}));var pn=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},dn=[].slice,hn={},vn=function(t,e,n){if(!(e in hn)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";hn[e]=Function("C,a","return new C("+r.join(",")+")")}return hn[e](t,n)};Ue({target:"Function",proto:!0},{bind:Function.bind||function(t){var e=pn(this),n=dn.call(arguments,1),r=function(){var o=n.concat(dn.call(arguments));return this instanceof r?vn(e,o.length,o):e.apply(t,o)};return wt(e.prototype)&&(r.prototype=e.prototype),r}});var yn=Object.keys||function(t){return Pe(t,Se)},gn=Object.assign,mn=Object.defineProperty,bn=!gn||ut((function(){if(st&&1!==gn({b:1},gn(mn({},"a",{enumerable:!0,get:function(){mn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=gn({},t)[n]||yn(gn({},e)).join("")!=r}))?function(t,e){for(var n=St(t),r=arguments.length,o=1,i=xe.f,a=pt.f;r>o;)for(var c,u=gt(arguments[o++]),s=i?yn(u).concat(i(u)):yn(u),f=s.length,l=0;f>l;)c=s[l++],st&&!a.call(u,c)||(n[c]=u[c]);return n}:gn;Ue({target:"Object",stat:!0,forced:Object.assign!==bn},{assign:bn});var wn={};wn[Ye("toStringTag")]="z";var Pn="[object z]"===String(wn),Sn=Ye("toStringTag"),jn="Arguments"==vt(function(){return arguments}()),On=Pn?vt:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),Sn))?n:jn?vt(e):"Object"==(r=vt(e))&&"function"==typeof e.callee?"Arguments":r},xn=Pn?{}.toString:function(){return"[object "+On(this)+"]"};Pn||ue(Object.prototype,"toString",xn,{unsafe:!0});var kn=ct.Promise,En=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(r){}return function(n,r){return Mt(n),function(t){if(!wt(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Tn=_t.f,An=Ye("toStringTag"),Cn=Ye("species"),Mn={},Dn=Ye("iterator"),_n=Array.prototype,Rn=function(t,e,n){if(pn(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},In=Ye("iterator"),Un=function(t){var e=t.return;if(void 0!==e)return Mt(e.call(t)).value},Nn=function(t,e){this.stopped=t,this.result=e},Fn=function(t,e,n){var r,o,i,a,c,u,s,f,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),v=Rn(e,l,1+p+h),y=function(t){return r&&Un(r),new Nn(!0,t)},g=function(t){return p?(Mt(t),h?v(t[0],t[1],y):v(t[0],t[1])):h?v(t,y):v(t)};if(d)r=t;else{if("function"!=typeof(o=function(t){if(null!=t)return t[In]||t["@@iterator"]||Mn[On(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(f=o)&&(Mn.Array===f||_n[Dn]===f)){for(i=0,a=ye(t.length);a>i;i++)if((c=g(t[i]))&&c instanceof Nn)return c;return new Nn(!1)}r=o.call(t)}for(u=r.next;!(s=u.call(r)).done;){try{c=g(s.value)}catch(m){throw Un(r),m}if("object"==typeof c&&c&&c instanceof Nn)return c}return new Nn(!1)},zn=Ye("iterator"),Wn=!1;try{var Ln=0,Bn={next:function(){return{done:!!Ln++}},return:function(){Wn=!0}};Bn[zn]=function(){return this},Array.from(Bn,(function(){throw 2}))}catch(Qo){}var Kn,Hn,qn,Gn=Ye("species"),$n=le("document","documentElement"),Xn=/(?:iphone|ipod|ipad).*applewebkit/i.test(ze),Yn="process"==vt(ct.process),Zn=ct.location,Vn=ct.setImmediate,Jn=ct.clearImmediate,Qn=ct.process,tr=ct.MessageChannel,er=ct.Dispatch,nr=0,rr={},or="onreadystatechange",ir=function(t){if(rr.hasOwnProperty(t)){var e=rr[t];delete rr[t],e()}},ar=function(t){return function(){ir(t)}},cr=function(t){ir(t.data)},ur=function(t){ct.postMessage(t+"",Zn.protocol+"//"+Zn.host)};Vn&&Jn||(Vn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return rr[++nr]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Kn(nr),nr},Jn=function(t){delete rr[t]},Yn?Kn=function(t){Qn.nextTick(ar(t))}:er&&er.now?Kn=function(t){er.now(ar(t))}:tr&&!Xn?(qn=(Hn=new tr).port2,Hn.port1.onmessage=cr,Kn=Rn(qn.postMessage,qn,1)):ct.addEventListener&&"function"==typeof postMessage&&!ct.importScripts&&Zn&&"file:"!==Zn.protocol&&!ut(ur)?(Kn=ur,ct.addEventListener("message",cr,!1)):Kn=or in Et("script")?function(t){$n.appendChild(Et("script")).onreadystatechange=function(){$n.removeChild(this),ir(t)}}:function(t){setTimeout(ar(t),0)});var sr,fr,lr,pr,dr,hr,vr,yr,gr={set:Vn,clear:Jn},mr=/web0s(?!.*chrome)/i.test(ze),br=Ct.f,wr=gr.set,Pr=ct.MutationObserver||ct.WebKitMutationObserver,Sr=ct.document,jr=ct.process,Or=ct.Promise,xr=br(ct,"queueMicrotask"),kr=xr&&xr.value;kr||(sr=function(){var t,e;for(Yn&&(t=jr.domain)&&t.exit();fr;){e=fr.fn,fr=fr.next;try{e()}catch(Qo){throw fr?pr():lr=void 0,Qo}}lr=void 0,t&&t.enter()},Xn||Yn||mr||!Pr||!Sr?Or&&Or.resolve?((vr=Or.resolve(void 0)).constructor=Or,yr=vr.then,pr=function(){yr.call(vr,sr)}):pr=Yn?function(){jr.nextTick(sr)}:function(){wr.call(ct,sr)}:(dr=!0,hr=Sr.createTextNode(""),new Pr(sr).observe(hr,{characterData:!0}),pr=function(){hr.data=dr=!dr}));var Er,Tr,Ar,Cr,Mr,Dr,_r,Rr=kr||function(t){var e={fn:t,next:void 0};lr&&(lr.next=e),fr||(fr=e,pr()),lr=e},Ir=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=pn(e),this.reject=pn(n)},Ur={f:function(t){return new Ir(t)}},Nr=function(t){try{return{error:!1,value:t()}}catch(Qo){return{error:!0,value:Qo}}},Fr="object"==typeof window,zr=gr.set,Wr=Ye("species"),Lr="Promise",Br=ce.get,Kr=ce.set,Hr=ce.getterFor(Lr),qr=kn&&kn.prototype,Gr=kn,$r=qr,Xr=ct.TypeError,Yr=ct.document,Zr=ct.process,Vr=Ur.f,Jr=Vr,Qr=!!(Yr&&Yr.createEvent&&ct.dispatchEvent),to="function"==typeof PromiseRejectionEvent,eo="unhandledrejection",no=!1,ro=Re(Lr,(function(){var t=Kt(Gr)!==String(Gr);if(!t&&66===Ke)return!0;if(Ke>=51&&/native code/.test(Gr))return!1;var e=new Gr((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[Wr]=n,!(no=e.then((function(){}))instanceof n)||!t&&Fr&&!to})),oo=ro||!function(t,e){if(!e&&!Wn)return!1;var n=!1;try{var r={};r[zn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(Qo){}return n}((function(t){Gr.all(t).catch((function(){}))})),io=function(t){var e;return!(!wt(t)||"function"!=typeof(e=t.then))&&e},ao=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Rr((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,c,u,s=n[i++],f=o?s.ok:s.fail,l=s.resolve,p=s.reject,d=s.domain;try{f?(o||(2===t.rejection&&fo(t),t.rejection=1),!0===f?a=r:(d&&d.enter(),a=f(r),d&&(d.exit(),u=!0)),a===s.promise?p(Xr("Promise-chain cycle")):(c=io(a))?c.call(a,l,p):l(a)):p(r)}catch(Qo){d&&!u&&d.exit(),p(Qo)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&uo(t)}))}},co=function(t,e,n){var r,o;Qr?((r=Yr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),ct.dispatchEvent(r)):r={promise:e,reason:n},!to&&(o=ct["on"+t])?o(r):t===eo&&function(t,e){var n=ct.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},uo=function(t){zr.call(ct,(function(){var e,n=t.facade,r=t.value;if(so(t)&&(e=Nr((function(){Yn?Zr.emit("unhandledRejection",r,n):co(eo,n,r)})),t.rejection=Yn||so(t)?2:1,e.error))throw e.value}))},so=function(t){return 1!==t.rejection&&!t.parent},fo=function(t){zr.call(ct,(function(){var e=t.facade;Yn?Zr.emit("rejectionHandled",e):co("rejectionhandled",e,t.value)}))},lo=function(t,e,n){return function(r){t(e,r,n)}},po=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ao(t,!0))},ho=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw Xr("Promise can't be resolved itself");var o=io(n);o?Rr((function(){var r={done:!1};try{o.call(n,lo(t,r,e),lo(po,r,e))}catch(Qo){po(r,Qo,e)}})):(e.value=n,e.state=1,ao(e,!1))}catch(Qo){po({done:!1},Qo,e)}}};if(ro&&($r=(Gr=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,Gr,Lr),pn(t),Er.call(this);var e=Br(this);try{t(lo(ho,e),lo(po,e))}catch(Qo){po(e,Qo)}}).prototype,(Er=function(t){Kr(this,{type:Lr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)ue(t,r,e[r],n);return t}($r,{then:function(t,e){var n=Hr(this),r=Vr(function(t,e){var n,r=Mt(t).constructor;return void 0===r||null==(n=Mt(r)[Gn])?e:pn(n)}(this,Gr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Yn?Zr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ao(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Tr=function(){var t=new Er,e=Br(t);this.promise=t,this.resolve=lo(ho,e),this.reject=lo(po,e)},Ur.f=Vr=function(t){return t===Gr||t===Ar?new Tr(t):Jr(t)},"function"==typeof kn&&qr!==Object.prototype)){Cr=qr.then,no||(ue(qr,"then",(function(t,e){var n=this;return new Gr((function(t,e){Cr.call(n,t,e)})).then(t,e)}),{unsafe:!0}),ue(qr,"catch",$r.catch,{unsafe:!0}));try{delete qr.constructor}catch(Qo){}En&&En(qr,$r)}Ue({global:!0,wrap:!0,forced:ro},{Promise:Gr}),Dr=Lr,_r=!1,(Mr=Gr)&&!Ot(Mr=_r?Mr:Mr.prototype,An)&&Tn(Mr,An,{configurable:!0,value:Dr}),function(t){var e=le(t),n=_t.f;st&&e&&!e[Cn]&&n(e,Cn,{configurable:!0,get:function(){return this}})}(Lr),Ar=le(Lr),Ue({target:Lr,stat:!0,forced:ro},{reject:function(t){var e=Vr(this);return e.reject.call(void 0,t),e.promise}}),Ue({target:Lr,stat:!0,forced:ro},{resolve:function(t){return function(t,e){if(Mt(t),wt(e)&&e.constructor===t)return e;var n=Ur.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),Ue({target:Lr,stat:!0,forced:oo},{all:function(t){var e=this,n=Vr(e),r=n.resolve,o=n.reject,i=Nr((function(){var n=pn(e.resolve),i=[],a=0,c=1;Fn(t,(function(t){var u=a++,s=!1;i.push(void 0),c++,n.call(e,t).then((function(t){s||(s=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=Vr(e),r=n.reject,o=Nr((function(){var o=pn(e.resolve);Fn(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var vo=function(){var t=Mt(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},yo="toString",go=RegExp.prototype,mo=go.toString,bo=ut((function(){return"/a/b"!=mo.call({source:"a",flags:"b"})})),wo=mo.name!=yo;function Po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function So(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jo(t,e,n){return e&&So(t.prototype,e),n&&So(t,n),t}function Oo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ko(t,e)}function xo(t){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ko(t,e){return(ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Eo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function To(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?Eo(t):e}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xo(t);if(e){var o=xo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return To(this,n)}}function Co(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Mo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(bo||wo)&&ue(RegExp.prototype,yo,(function(){var t=Mt(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in go)?vo.call(t):n)}),{unsafe:!0});var Do=[].push,_o=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,a=7==t,c=5==t||i;return function(u,s,f,l){for(var p,d,h=St(u),v=gt(h),y=Rn(s,f,3),g=ye(v.length),m=0,b=l||Ve,w=e?b(u,g):n||a?b(u,0):void 0;g>m;m++)if((c||m in v)&&(d=y(p=v[m],m,h),t))if(e)w[m]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:Do.call(w,p)}else switch(t){case 4:return!1;case 7:Do.call(w,p)}return i?-1:r||o?o:w}},Ro={forEach:_o(0),map:_o(1),filter:_o(2),some:_o(3),every:_o(4),find:_o(5),findIndex:_o(6),filterOut:_o(7)}.map;Ue({target:"Array",proto:!0,forced:!Qe("map")},{map:function(t){return Ro(this,t,arguments.length>1?arguments[1]:void 0)}});var Io,Uo,No=function(t){return function(e,n,r,o){pn(n);var i=St(e),a=gt(i),c=ye(i.length),u=t?c-1:0,s=t?-1:1;if(r<2)for(;;){if(u in a){o=a[u],u+=s;break}if(u+=s,t?u<0:c<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:c>u;u+=s)u in a&&(o=n(o,a[u],u,i));return o}},Fo={left:No(!1),right:No(!0)}.left;Ue({target:"Array",proto:!0,forced:!(!!(Uo=[]["reduce"])&&ut((function(){Uo.call(null,Io||function(){throw 1},1)})))||!Yn&&Ke>79&&Ke<83},{reduce:function(t){return Fo(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var zo=[].reverse,Wo=[1,2];Ue({target:"Array",proto:!0,forced:String(Wo)===String(Wo.reverse())},{reverse:function(){return Ne(this)&&(this.length=this.length),zo.call(this)}});var Lo=function(t){var e,n,r,o,i=t.current,a=t.next,c=t.previous,u=t.reverse,s=(e=c||i,r=(n=a||i).x-e.x,o=n.y-e.y,{length:Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),angle:Math.atan2(o,r)}),f=s.angle+(u?Math.PI:0),l=.2*s.length;return[i.x+Math.cos(f)*l,i.y+Math.sin(f)*l]},Bo=function(t,e,n){var r=null,o=null;switch(e){case 0:var i=Co(Lo({current:t}),2);r=i[0],o=i[1];break;case 1:var a=Co(Lo({current:n[e-1],next:t}),2);r=a[0],o=a[1];break;default:var c=Co(Lo({current:n[e-1],previous:n[e-2],next:t}),2);r=c[0],o=c[1]}var u=Co(Lo({current:t,previous:n[e-1],next:n[e+1],reverse:!0}),2),s=u[0],f=u[1];return"C ".concat(r,",").concat(o," ").concat(s,",").concat(f," ").concat(t.x,", ").concat(t.y)},Ko=function(t){var e=t.paths;return(0,a.jsx)(o.Fragment,{children:e.map((function(t,e){return function(t,e,n,r,o){var i=t.reduce((function(t,e,n,r){return 0===n?"M ".concat(e.x,",").concat(e.y):"".concat(t," ").concat(o(e,n,r))}),"");return(0,a.jsx)("path",{d:i,fill:"none",strokeLinecap:"round",stroke:r,strokeWidth:n},e)}(t.paths,e.toString(),t.strokeWidth,t.strokeColor,Bo)}))},void 0)};function Ho(t){var e,n=null===(e=t.firstChild)||void 0===e?void 0:e.cloneNode(!0),r=t.offsetWidth,o=t.offsetHeight;return n.setAttribute("viewBox","0 0 ".concat(r," ").concat(o)),n.setAttribute("width",r.toString()),n.setAttribute("height",o.toString()),{svgCanvas:n,width:r,height:o}}var qo=function(t){Oo(n,t);var e=Ao(n);function n(t){var r;return Po(this,n),(r=e.call(this,t)).handlePointerDown=r.handlePointerDown.bind(Eo(r)),r.handlePointerMove=r.handlePointerMove.bind(Eo(r)),r.handlePointerUp=r.handlePointerUp.bind(Eo(r)),r.getCoordinates=r.getCoordinates.bind(Eo(r)),r.exportImage=r.exportImage.bind(Eo(r)),r.exportSvg=r.exportSvg.bind(Eo(r)),r.canvas=o.createRef(),r}return jo(n,[{key:"componentDidMount",value:function(){document.addEventListener("pointerup",this.handlePointerUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("pointerup",this.handlePointerUp)}},{key:"getCoordinates",value:function(t){var e,n,r,o=null===(e=this.canvas.current)||void 0===e?void 0:e.getBoundingClientRect(),i=null!==(n=window.scrollX)&&void 0!==n?n:0,a=null!==(r=window.scrollY)&&void 0!==r?r:0;return o?{x:t.pageX-o.left-i,y:t.pageY-o.top-a}:{x:0,y:0}}},{key:"handlePointerDown",value:function(t){var e=this.props,n=e.allowOnlyPointerType,r=e.onPointerDown;"all"!==n&&t.pointerType!==n||("mouse"===t.pointerType&&0!==t.button||r(this.getCoordinates(t)))}},{key:"handlePointerMove",value:function(t){var e=this.props,n=e.isDrawing,r=e.allowOnlyPointerType,o=e.onPointerMove;n&&("all"!==r&&t.pointerType!==r||o(this.getCoordinates(t)))}},{key:"handlePointerUp",value:function(t){if("mouse"!==t.pointerType||0===t.button){var e=this.props,n=e.allowOnlyPointerType,r=e.onPointerUp;"all"!==n&&t.pointerType!==n||r()}}},{key:"exportImage",value:function(t){var e=this;return new Promise((function(n,r){try{var o=e.canvas.current;if(!o)throw Error("Canvas not rendered yet");var i=document.createElement("img"),a=Ho(o),c=a.svgCanvas,u=a.width,s=a.height;i.src="data:image/svg+xml;base64,".concat(btoa(c.outerHTML)),i.onload=function(){var e=document.createElement("canvas");e.setAttribute("width",u.toString()),e.setAttribute("height",s.toString());var r=e.getContext("2d");if(!r)throw Error("Canvas not rendered yet");r.drawImage(i,0,0),n(e.toDataURL("image/".concat(t)))}}catch(f){r(f)}}))}},{key:"exportSvg",value:function(){var t=this;return new Promise((function(e,n){var r,o;try{var i=null!==(o=null===(r=t.canvas)||void 0===r?void 0:r.current)&&void 0!==o?o:null;if(null!==i)e(Ho(i).svgCanvas.outerHTML);n(new Error("Canvas not loaded"))}catch(a){n(a)}}))}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.className,o=t.canvasColor,i=t.background,c=t.style,u=t.paths;return(0,a.jsx)("div",Object.assign({role:"presentation",ref:this.canvas,className:r,style:Object.assign({touchAction:"none",width:e,height:n},c),"touch-action":"none",onPointerDown:this.handlePointerDown,onPointerMove:this.handlePointerMove,onPointerUp:this.handlePointerUp},{children:(0,a.jsx)("svg",Object.assign({version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%",background:"".concat(i," ").concat(o)}},{children:(0,a.jsx)("g",Object.assign({id:"canvasPenStrokes"},{children:(0,a.jsx)(Ko,{paths:u},void 0)}),void 0)}),void 0)}),void 0)}}]),n}(o.Component);qo.defaultProps={width:"100%",height:"100%",className:"",canvasColor:"red",background:"",allowOnlyPointerType:"all",style:{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"},withTimeStamp:!0},Ue({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Go=function(t){Oo(n,t);var e=Ao(n);function n(t){var r;return Po(this,n),(r=e.call(this,t)).initialState={drawMode:!0,isDrawing:!1,resetStack:[],undoStack:[],currentPaths:[]},r.state=r.initialState,r.handlePointerDown=r.handlePointerDown.bind(Eo(r)),r.handlePointerMove=r.handlePointerMove.bind(Eo(r)),r.handlePointerUp=r.handlePointerUp.bind(Eo(r)),r.exportImage=r.exportImage.bind(Eo(r)),r.exportSvg=r.exportSvg.bind(Eo(r)),r.exportPaths=r.exportPaths.bind(Eo(r)),r.loadPaths=r.loadPaths.bind(Eo(r)),r.eraseMode=r.eraseMode.bind(Eo(r)),r.clearCanvas=r.clearCanvas.bind(Eo(r)),r.undo=r.undo.bind(Eo(r)),r.redo=r.redo.bind(Eo(r)),r.resetCanvas=r.resetCanvas.bind(Eo(r)),r.getSketchingTime=r.getSketchingTime.bind(Eo(r)),r.liftPathsUp=r.liftPathsUp.bind(Eo(r)),r.svgCanvas=o.createRef(),r}return jo(n,[{key:"getSketchingTime",value:function(){var t=this.props.withTimestamp,e=this.state.currentPaths;return new Promise((function(n,r){t||r(new Error("Set 'withTimestamp' prop to get sketching time"));try{n(e.reduce((function(t,e){var n,r,o=null!==(n=e.startTimestamp)&&void 0!==n?n:0;return t+((null!==(r=e.endTimestamp)&&void 0!==r?r:0)-o)}),0))}catch(o){r(o)}}))}},{key:"resetCanvas",value:function(){this.setState(this.initialState)}},{key:"liftPathsUp",value:function(){var t=this.state.currentPaths;(0,this.props.onUpdate)(t)}},{key:"handlePointerDown",value:function(t){var e=this.props,n=e.strokeColor,r=e.strokeWidth,o=e.canvasColor,i=e.eraserWidth,a=e.withTimestamp;this.setState(rt((function(e){e.isDrawing=!0,e.undoStack=[];var c={drawMode:e.drawMode,strokeColor:e.drawMode?n:o,strokeWidth:e.drawMode?r:i,paths:[t]};a&&(c=Object.assign(Object.assign({},c),{startTimestamp:Date.now(),endTimestamp:0})),e.currentPaths.push(c)})),this.liftPathsUp)}},{key:"handlePointerMove",value:function(t){this.state.isDrawing&&this.setState(rt((function(e){e.currentPaths[e.currentPaths.length-1].paths.push(t)})),this.liftPathsUp)}},{key:"handlePointerUp",value:function(){var t=this.props.withTimestamp;this.state.isDrawing&&this.setState(rt((function(e){if(e.isDrawing=!1,t){var n=e.currentPaths.pop();n&&(n=Object.assign(Object.assign({},n),{endTimestamp:Date.now()}),e.currentPaths.push(n))}})),this.liftPathsUp)}},{key:"eraseMode",value:function(t){this.setState(rt((function(e){e.drawMode=!t})),this.liftPathsUp)}},{key:"clearCanvas",value:function(){this.setState(rt((function(t){t.resetStack=t.currentPaths,t.currentPaths=[]})),this.liftPathsUp)}},{key:"undo",value:function(){var t=this;0===this.state.resetStack.length?this.setState(rt((function(t){var e=t.currentPaths.pop();e&&t.undoStack.push(e)})),this.liftPathsUp):this.setState(rt((function(t){t.currentPaths=t.resetStack,t.resetStack=[]})),(function(){var e=t.state.currentPaths;(0,t.props.onUpdate)(e)}))}},{key:"redo",value:function(){0!==this.state.undoStack.length&&this.setState(rt((function(t){var e=t.undoStack.pop();e&&t.currentPaths.push(e)})),this.liftPathsUp)}},{key:"exportImage",value:function(t){var e,n=null===(e=this.svgCanvas.current)||void 0===e?void 0:e.exportImage;if(n)return n(t);throw Error("Export function called before canvas loaded")}},{key:"exportSvg",value:function(){var t=this;return new Promise((function(e,n){var r,o=null===(r=t.svgCanvas.current)||void 0===r?void 0:r.exportSvg;o?o().then((function(t){e(t)})).catch((function(t){n(t)})):n(Error("Export function called before canvas loaded"))}))}},{key:"exportPaths",value:function(){var t=this.state.currentPaths;return new Promise((function(e,n){try{e(t)}catch(r){n(r)}}))}},{key:"loadPaths",value:function(t){this.setState(rt((function(e){e.currentPaths=e.currentPaths.concat(t)})),this.liftPathsUp)}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.className,o=t.canvasColor,i=t.background,c=t.style,u=t.allowOnlyPointerType,s=this.state,f=s.currentPaths,l=s.isDrawing;return(0,a.jsx)(qo,{ref:this.svgCanvas,width:e,height:n,className:r,canvasColor:o,background:i,allowOnlyPointerType:u,style:c,paths:f,isDrawing:l,onPointerDown:this.handlePointerDown,onPointerMove:this.handlePointerMove,onPointerUp:this.handlePointerUp},void 0)}}]),n}(o.Component);Go.defaultProps={width:"100%",height:"100%",className:"",canvasColor:"white",strokeColor:"red",background:"",strokeWidth:4,eraserWidth:8,allowOnlyPointerType:"all",style:{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"},onUpdate:function(t){},withTimestamp:!1};var $o=n(63717),Xo=n(50731),Yo=n(32653),Zo=JSON.parse('{"TN":"Digit Recognizer","WL":"MNIST Digit Recognizer using Tensorflow.js"}'),Vo="digit-recognizer-module--loading--62MuG";i.G48();var Jo=function(){var t=(0,o.useState)(null),e=t[0],n=t[1],a=(0,o.useState)("loading"),c=a[0],u=a[1],s=(0,o.useRef)(null),f=(0,o.useRef)(null),l=(0,o.useState)({prob:Array(10).fill(0),pred:""}),p=l[0],d=l[1];return(0,o.useEffect)((function(){i.FBF(window.location.origin+"/model/digit-recognizer/model.json").then((function(t){i.lub((function(){t.predict(i.iUs([28,28,1]).expandDims())})),n(t),u("ready")}))}),[]),o.createElement(Xo.Z,{title:Zo.TN,description:Zo.WL},o.createElement("div",{className:"digit-recognizer-module--dsWrapper--1qRsG"},o.createElement("div",{className:"digit-recognizer-module--title--22YDL"},o.createElement("h2",null,"Digit Recognizer"),o.createElement("p",null,"Using Tensorflow.js to predict handdrawing digits. Model trained on 42.000 MNIST data + Augmentation with 99.62% of accuracy")),o.createElement("div",{className:"digit-recognizer-module--content--2xV0m"},o.createElement(Yo.Z,{style:{display:"ready"===c?"none":null}},"Loading model..."),o.createElement(Go,{className:"digit-recognizer-module--canvas--KI0_V",style:{width:"250px",height:"250px",borderRadius:"10px"},strokeWidth:25,strokeColor:"white",canvasColor:"black",ref:s}),o.createElement("div",{className:"digit-recognizer-module--chart--QmKnF"},o.createElement($o.$Q,{data:{labels:["0","1","2","3","4","5","6","7","8","9"],datasets:[{label:"# Probabilitiy",data:p.prob,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(200, 20, 50, 0.2)","rgba(100, 150, 50, 0.2)","rgba(153, 90, 150, 0.2)","rgba(20, 250, 100, 0.2)"]}]},options:{maintainAspectRatio:!1,indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,scales:{xAxes:[{ticks:{beginAtZero:!0}}],yAxes:[{stacked:!0}]}},ref:f}))),o.createElement("div",{className:"digit-recognizer-module--prediction--OixRT"},""!==p.pred?"Prediction : "+p.pred:""),o.createElement("div",{className:"digit-recognizer-module--button--3PaD-"},o.createElement("button",{disabled:"loading"===c,className:"loading"===c?Vo:null,onClick:function(){s.current.exportImage().then((function(t){var n=new Image;n.src=t,n.onload=function(){!function(t){i.SRH().startScope();var n=i.lub((function(){return i.BHj.resizeBilinear(i.Xhn.fromPixels(t,1),[28,28]).div(255).expandDims().toFloat()})),o=e.predict(n);d({pred:""+o.argMax(1).arraySync()[0],prob:(0,r.Z)(o.arraySync()[0])}),i.B90(o),i.SRH().endScope()}(n)}}))}},"predict"),o.createElement("button",{disabled:"loading"===c,className:"loading"===c?Vo:null,onClick:function(){s.current.clearCanvas(),d({pred:"",prob:Array(10).fill(0)})}},"clear"))))}}}]);
//# sourceMappingURL=component---src-pages-showcase-digit-recognizer-index-js-2155548b4bc52dfd4f31.js.map