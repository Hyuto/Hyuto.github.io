"use strict";(self.webpackChunkHyuto_github_io=self.webpackChunkHyuto_github_io||[]).push([[783],{4336:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(5861),r=n(7757),o=n.n(r),s=n(7294),l=n(4643),c=n(3978),i=n(3695),u=n(298),d=n(5414),m=function(e){var t=e.setLoad;return s.createElement(s.Fragment,null,s.createElement(d.Z,{script:[{src:"https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"}],onChangeClientState:function(e,n){n.scriptTags&&(n.scriptTags[0].onload=function(){console.log("onnxruntime-web loaded!"),t("loaded")})}}))},b=n(2613),p=JSON.parse('{"TN":"Sentiment Detector [ID]","WL":"Sentiment detector built with focused corona topic dataset using SVM"}'),f="sa-corona-module--title--HqljB";l.kL.register(l.uw,l.f$,l.ZL,l.Dx,l.u,l.De);var g=function(){var e=(0,s.useState)(""),t=e[0],n=e[1],r=(0,s.useState)({class:null,probability:[0,0,0]}),l=r[0],d=r[1],g=(0,s.useState)({state:!0,message:"Loading onnxruntime-web..."}),w=g[0],v=g[1],h=(0,s.useState)(null),E=h[0],k=h[1],x=(0,s.useState)("loading"),S=x[0],N=x[1],y=(0,s.useRef)(null),C=["Negatif","Netral","Positif"],T=new c.o,D=new c.d,L=function(e){return D.tokenize(e).map((function(e){return T.stem(e)})).join(" ")},W=function(){var e=(0,a.Z)(o().mark((function e(n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==t){e.next=5;break}alert("Please input words!"),e.next=12;break;case 5:if(!E){e.next=11;break}return a=new ort.Tensor("string",[L(t)],[1,1]),e.next=9,E.run({words:a}).then((function(e){d({class:C[e.label.data[0]],probability:Array.from(e.probabilities.data)})})).catch((function(e){alert("Failed to predict!."),console.error(e)}));case 9:e.next=12;break;case 11:alert("Model isn't loaded!");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loaded"!==S||null!==E){e.next=17;break}return v({state:!0,message:"Loading model..."}),e.prev=2,e.next=5,ort.InferenceSession.create(window.location.origin+"/model/sa-model/model.onnx");case 5:return t=e.sent,n=new ort.Tensor("string",["jokowi cebong"],[1,1]),e.next=9,t.run({words:n});case 9:k(t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),alert("Can't load model!");case 16:v({state:!1,message:""});case 17:case"end":return e.stop()}}),e,null,[[2,12]])}))),[S]),s.createElement(u.Z,{title:p.TN,description:p.WL},s.createElement(m,{setLoad:N}),s.createElement("div",{className:"sa-corona-module--SADWrapper--PJh-7"},s.createElement("div",{className:f},s.createElement("h2",null,p.TN),s.createElement("p",null,"Sentiment detector using TF-IDF and SVM trained with Indonesian twitter dataset on corona focused topic live in browser powered by ",s.createElement("code",null,"onnxruntime-web")," with"," ",s.createElement("code",null,"wasm")," backend."," ",s.createElement("strong",null,s.createElement("a",{href:"https://github.com/Hyuto/Analisis-Sentimen-Corona-DKI-Jakarta",rel:"noreferrer",target:"_blank"},"Repository")))),s.createElement("div",{className:"sa-corona-module--content--R7sit"},s.createElement(b.Z,{style:{display:w.state?"inherit":"none"}},w.message),s.createElement("div",{className:"sa-corona-module--main--5vP08"},s.createElement("form",{className:"sa-corona-module--form--fTtcT"},s.createElement("div",{className:f},"Words"),s.createElement("textarea",{className:"sa-corona-module--words--UW1AG",value:t,onChange:function(e){return n(e.target.value)}})),s.createElement("div",{className:"sa-corona-module--chart--GWa3r"},s.createElement(i.$Q,{data:{labels:C,datasets:[{label:"# Probabilitiy",data:l.probability,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 206, 86, 0.2)","rgba(54, 162, 235, 0.2)"]}]},options:{maintainAspectRatio:!1,indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,scales:{x:{ticks:{beginAtZero:!0}},y:{stacked:!0}}},ref:y}))),s.createElement("div",{className:"sa-corona-module--btnWrapper--PauIk"},s.createElement("button",{onClick:W},"Submit"),s.createElement("button",{onClick:function(e){e.preventDefault(),n(""),d({class:null,proba:null})}},"Reset")),s.createElement("div",{className:"sa-corona-module--prediction--xbSmU"},l.class?"Prediction : "+l.class:null))))}}}]);
//# sourceMappingURL=component---src-pages-showcase-sa-corona-index-js-995c537559266b40546a.js.map